<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <title>Laconic DOM Library</title>
    <link rel="stylesheet" href="github.css" type="text/css" media="screen" /> 
    <style type='text/css'>
      body {
        padding:0 40px;
        max-width:600px;
      }

      body pre code {
        display:block;
        background-color:#eee;
        padding:10px;
        border:1px solid #aaa;
        border-radius:4px;
        -webkit-border-radius:4px;
        -moz-border-radius:4px;
        box-shadow: 2px 2px 5px #888;
        -webkit-box-shadow: 2px 2px 3px #888;
        -moz-box-shadow: 2px 2px 3px #888;
      }
    </style>

    <script type="text/javascript" src="highlight.pack.js"></script>
    <script type="text/javascript">hljs.initHighlightingOnLoad();</script>

  </head>

  <body>
    <h1>Laconic</h1>
    <p>
      Laconic is a lightweight approach to generating DOM content in JavaScript.  The 
      source code is available on <a href='https://github.com/joestelmach/laconic'>GitHub</a>.
    </p>

    <p>
      Consider the code necessary to produce a simple table hierarchy with the 
      standard DOM API:
    </p>

<pre><code class='language-javascript'>var firstTh = document.createElement('th');
firstTh.appendChild(document.createTextNode('first name'));
var secondTh = document.createElement('th');
secondTh.appendChild(document.createTextNode('last name'));
var firstTr = document.createElement('tr');
firstTr.appendChild(firstTh);
firstTr.appendChild(secondTh);
var firstTd = document.createElement('td'); 
firstTd.appendChild(document.createTextNode('Joe'));
var secondTd = document.createElement('td'); 
secondTd.appendChild(document.createTextNode('Stelmach'));
var secondTr = document.createElement('tr');
secondTr.appendChild(firstTd);
secondTr.appendChild(secondTd);
var table = document.createElement('table');
table.appendChild(firstTr);
table.appendChild(secondTr);
document.body.appendChild(table);
</code></pre>
    <p>
      This code is beyond verbose, which makes determining the resulting hierarchy 
      difficult.  Let's take a look at the laconic way to generate the same table:
    </p>

<pre><code class='language-javascript'>$.el.table(
  $.el.tr(
    $.el.th('first name'),
    $.el.th('last name')),
  $.el.tr(
    $.el.td('Joe'),
    $.el.td('Stelmach'))
).appendTo(document.body);
</code></pre>

    <p>
      Laconic adds a method to the $.el namespace for all known 
      <a href="http://www.whatwg.org/specs/web-apps/current-work/multipage/section-index.html#elements-1">HTML tags</a>.  These methods should be invoked with a variable length list of child elements or strings. An optional attributes object may be passed as the first argument.  For example:
    </p>
<pre><code class='language-javascript'>$.el.div({'class' : 'example-class'}, $.el.div('Content'));</code></pre>
    <p>
      will produce the following structure:
    </p>
<pre><code class='language-html'>&lt;div class='example-class'&gt;
  &lt;div&gt;Content&lt;div/&gt;
&lt;/div&gt;
</code></pre>
    
    <p>
      You can even register your own custom 'tags' that define a particular
      hierarchy of known elements.  You just need to provide a name for 
      your tag, and a function that appends content to 'this', which is a
      reference to the root node of the tag.  For example:
    </p>

<pre><code class='language-javascript'>$.el.registerTag('element', function(one, two) {
  this.appendChild($.el.div(one));
  this.appendChild($.el.div(two));
});
</code></pre>
    <p>
      Once you've registered a tag, you can start inserting it:
    </p>

<pre><code class='language-javascript'>$.el.element('First', 'Second').appendTo(document.body);</code></pre>

    <p>
      This particular invocation will produce the following structure:
    </p>

<pre><code class='language-html'>&lt;div class='element'&gt;
  &lt;div&gt;First&lt;/div&gt;
  &lt;div&gt;Second&lt;/div&gt;
&lt;/div&gt;
</code></pre>

  </body>
</html>
